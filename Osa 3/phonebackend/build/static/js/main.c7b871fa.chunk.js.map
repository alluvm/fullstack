{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","services/puhelinluettelo.js","components/Notification.js","App.js","index.js"],"names":["Filter","handleFilter","onChange","PersonForm","handleName","handleClick","handlePhone","onClick","Person","object","handleDelete","name","number","event","console","log","Persons","people","filter","map","dude","i","toLowerCase","includes","key","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Notification","notif","type","className","msg","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","newFilter","setNewFilter","notification","setNotifcation","useEffect","service","notify","notifObj","setTimeout","val","target","value","preventDefault","person","find","personObject","window","confirm","catch","error","concat","n","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c7b871fa.chunk.js","sourcesContent":["import React from 'react'\r\n\r\n\r\n\r\nconst Filter = ({handleFilter}) => {\r\n    return ( \r\n      <div>\r\n        <p>Filter shown with <input onChange={handleFilter}></input></p>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default Filter\r\n","import React from 'react'\r\n\r\n\r\nconst PersonForm =({handleName, handleClick, handlePhone}) => {\r\n    return (\r\n        <form>\r\n            <div>name: <input onChange={handleName} /></div>\r\n            <div>number: <input onChange={handlePhone}/></div>\r\n            <div><button onClick={handleClick} >add</button></div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Person = ({object, handleDelete}) => {\r\n    return (\r\n        <>\r\n         <ul>\r\n             {object.name} {object.number} <button onClick={(event)=> {\r\n                console.log(event)\r\n                handleDelete(event,object)}}>\r\n                    \r\n                delete</button>\r\n         </ul>\r\n        </>\r\n    )\r\n} \r\n\r\nexport default Person","import React from 'react'\r\nimport Person from \"./Person\"\r\n\r\n\r\nconst Persons = ({people, filter, handleDelete}) => {\r\n    return (\r\n    <>\r\n      {people.map((dude,i) =>  \r\n      dude.name.toLowerCase().includes(filter.toLowerCase()) \r\n      ? <Person object={dude} handleDelete={handleDelete} key={i}/> \r\n      : null )}\r\n    </>\r\n    )\r\n}\r\n\r\nexport default Persons","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, object) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, object)\r\n    return request.then(response => response.data)\r\n}\r\nconst remove = id => {\r\n    const request =  axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response)\r\n\r\n}\r\n\r\nconst create = ({newObject}) => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { \r\n    getAll:getAll,\r\n    create:create, \r\n    update:update, \r\n    remove:remove\r\n }\r\n","import React from \"react\"\r\n\r\n\r\nconst Notification = ({notif}) => {\r\n    if(!notif) return null\r\n    console.log(notif.type)\r\n    return (\r\n\r\n        <div className={notif.type}>\r\n            {notif.msg}\r\n        </div>\r\n\r\n    )\r\n\r\n}\r\n\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Filter from \"./components/Filter\"\nimport PersonForm from \"./components/PersonForm\"\nimport Persons from \"./components/Persons\"\nimport service from \"./services/puhelinluettelo\"\nimport Notification from \"./components/Notification\"\nimport \"./index.css\"\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState(\"\")\n  const [newFilter, setNewFilter] = useState(\"\")\n  const [notification, setNotifcation] = useState()\n\n  useEffect(() => {service.getAll().then(people => {setPersons(people)})},[])\n\n\n  const notify = (notifObj) => {\n    setNotifcation(notifObj)\n    setTimeout(() => {\n      setNotifcation(null)\n    }, 2000)\n  }\n\n  const handleClick = (event) => {\n    event.preventDefault()\n\n    const person = persons.find((dude) => dude.name === newName)\n    \n    if (!person) {\n      const personObject = {number: newNumber, name: newName}\n      const msg = \"Added \" + personObject.name\n      const notifObj = {msg: msg, type: \"success\"}\n\n      service.create(personObject).then(response => {\n        setPersons(persons.concat(response))\n        notify(notifObj)\n      })\n      \n    } else {\n\n      const personObject = {...person, number: newNumber}\n      const msg = `${newName} is already added to phonebook, replace the old number with a new one?`\n\n      if(window.confirm(msg)) {\n        service.update(person.id, personObject)\n        .then(() => {\n          setPersons(persons.map(dude => dude.name === personObject.name ? personObject : dude))\n          const msg = \"Succesfully changed \" + person.name + \" phone number\"\n\n          const notifObj = {\n            msg: msg,\n            type: \"success\"\n          }\n          notify(notifObj)\n          }).catch((error) => {\n            const msg = \"Information of \" + personObject.name + \" has already been deleted from the server\"\n            const notifObj = {msg: msg, type: \"error\"}\n            notify(notifObj)\n          })\n      }\n    }\n  }\n\n\n  const handleDelete = (event, person) => {\n    event.preventDefault()\n \n    const confm = window.confirm(\"delete \" + person.name + \" ?\")\n\n    if(confm) service.remove(person.id).then(() => {\n      const msg = \"Succesfully deleted \" + person.name\n      const notifObj = {msg: msg, type: \"success\"}\n\n      setPersons(persons.filter(n => n.id !== person.id))\n      notify(notifObj)\n    })\n  }\n\n  const handleFilter = (event) => {\n    const val = event.target.value\n    console.log(newFilter)\n    setNewFilter(val)\n  }\n\n  const handleName = (event) => {\n    const value = event.target.value\n    setNewName(value)\n  }\n\n  const handlePhone = (event) => {\n    const value = event.target.value\n    setNewNumber(value)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n        <Notification notif={notification}/>\n        <Filter handleFilter={handleFilter}></Filter>\n      <h2>add a new</h2>\n        <PersonForm handleName = {handleName} handleClick= {handleClick} handlePhone={handlePhone}></PersonForm>\n      <h2>Numbers</h2>\n        <Persons people={persons} filter={newFilter} handleDelete={handleDelete}></Persons>\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n"],"sourceRoot":""}