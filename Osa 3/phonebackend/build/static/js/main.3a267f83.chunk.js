(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{15:function(e,n,t){e.exports=t(38)},37:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var a=t(0),l=t.n(a),r=t(14),c=t.n(r),u=t(4),o=t(2),i=function(e){var n=e.handleFilter;return l.a.createElement("div",null,l.a.createElement("p",null,"Filter shown with ",l.a.createElement("input",{onChange:n})))},m=function(e){var n=e.handleName,t=e.handleClick,a=e.handlePhone;return l.a.createElement("form",null,l.a.createElement("div",null,"name: ",l.a.createElement("input",{onChange:n,name:"name"})),l.a.createElement("div",null,"number: ",l.a.createElement("input",{onChange:a,name:"number"})),l.a.createElement("div",null,l.a.createElement("button",{onClick:t},"add")))},d=function(e){var n=e.object,t=e.handleDelete;return l.a.createElement(l.a.Fragment,null,l.a.createElement("ul",null,n.name," ",n.number," ",l.a.createElement("button",{onClick:function(e){console.log(e),t(e,n)}},"delete")))},f=function(e){var n=e.people,t=e.filter,a=e.handleDelete;return l.a.createElement(l.a.Fragment,null,n.map((function(e,n){return e.name.toLowerCase().includes(t.toLowerCase())?l.a.createElement(d,{object:e,handleDelete:a,key:n}):null})))},s=t(3),h=t.n(s),p="/api/persons",b=function(){return h.a.get(p).then((function(e){return e.data}))},v=function(e){var n=e.newObject;return h.a.post(p,n).then((function(e){return e.data}))},E=function(e,n){return h.a.put("".concat(p,"/").concat(e),n).then((function(e){return e.data}))},g=function(e){return h.a.delete("".concat(p,"/").concat(e)).then((function(e){return e}))},j=function(e){var n=e.notif;return n?(console.log(n.type),l.a.createElement("div",{className:n.type},n.msg)):null},w=(t(37),function(){var e=Object(a.useState)([]),n=Object(o.a)(e,2),t=n[0],r=n[1],c=Object(a.useState)(""),d=Object(o.a)(c,2),s=d[0],h=d[1],p=Object(a.useState)(""),w=Object(o.a)(p,2),O=w[0],y=w[1],k=Object(a.useState)(""),C=Object(o.a)(k,2),S=C[0],D=C[1],F=Object(a.useState)(),N=Object(o.a)(F,2),P=N[0],I=N[1];Object(a.useEffect)((function(){b().then((function(e){r(e)}))}),[]);var J=function(e){I(e),setTimeout((function(){I(null)}),2e3)};return l.a.createElement("div",null,l.a.createElement("h2",null,"Phonebook"),l.a.createElement(j,{notif:P}),l.a.createElement(i,{handleFilter:function(e){var n=e.target.value;console.log(S),D(n)}}),l.a.createElement("h2",null,"add a new"),l.a.createElement(m,{handleName:function(e){var n=e.target.value;h(n)},handleClick:function(e){e.preventDefault();var n=t.find((function(e){return e.name===s}));if(n){var a=Object(u.a)(Object(u.a)({},n),{},{number:O}),l="".concat(s," is already added to phonebook, replace the old number with a new one?");window.confirm(l)&&E(n.id,a).then((function(){r(t.map((function(e){return e.name===a.name?a:e})));var e="Succesfully changed "+n.name+" phone number";J({msg:e,type:"success"})})).catch((function(e){var n="Information of "+a.name+" has already been deleted from the server";J({msg:n,type:"error"})}))}else{var c={number:O,name:s},o={msg:"Added "+c.name,type:"success"};v(c).then((function(e){r(t.concat(e)),J(o)}))}},handlePhone:function(e){var n=e.target.value;y(n)}}),l.a.createElement("h2",null,"Numbers"),l.a.createElement(f,{people:t,filter:S,handleDelete:function(e,n){e.preventDefault(),window.confirm("delete "+n.name+" ?")&&g(n.id).then((function(){var e={msg:"Succesfully deleted "+n.name,type:"success"};r(t.filter((function(e){return e.id!==n.id}))),J(e)}))}}))});c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(w,null)),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.3a267f83.chunk.js.map